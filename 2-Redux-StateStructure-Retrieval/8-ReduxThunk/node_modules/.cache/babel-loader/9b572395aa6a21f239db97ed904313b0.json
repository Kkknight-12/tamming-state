{"ast":null,"code":"var _jsxFileName = \"/Users/knight/FrontEnd_Projects/React/Redux/tamming-state/2-Redux-StateStructure-Retrieval/7-todo-add-filter-features/src/index.js\",\n    _s = $RefreshSig$();\n\nimport ReactDOM from 'react-dom';\nimport { applyMiddleware, combineReducers, createStore } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { createLogger } from 'redux-logger';\nimport { schema, normalize } from 'normalizr';\nimport { v4 as uuidv4 } from 'uuid'; // npm install --save uuid\n// import uuid from 'uuid/v4';\n// import { uuid } from 'uuidv4'; // npm install uuidv4\n// hooks\n\nimport React, { useState, useEffect } from 'react'; // \n\nimport './index.css';\n/* \nafter using uuid\n{id: \"18cc9039-2fcd-4197-9d35-6d9f35bf30b9\", name: \"Todo with Notifications\"}\nid is created like this  */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst todos = [{\n  id: uuidv4(),\n  name: 'Redux Standalone with advanced Reducers'\n}, {\n  id: uuidv4(),\n  name: 'Redux Standalone with advanced Actions'\n}, {\n  id: uuidv4(),\n  name: 'Bootstrap App with Redux'\n}, {\n  id: uuidv4(),\n  name: 'Naive Todo with React and Redux'\n}, {\n  id: uuidv4(),\n  name: 'Sophisticated Todo with React and Redux'\n}, {\n  id: uuidv4(),\n  name: 'Connecting State Everywhere'\n}, {\n  id: uuidv4(),\n  name: 'Todo with advanced Redux'\n}, {\n  id: uuidv4(),\n  name: 'Todo but more Features'\n}, {\n  id: uuidv4(),\n  name: 'Todo with Notifications'\n}, {\n  id: uuidv4(),\n  name: 'Hacker News with Redux'\n}]; // //////////\n// schemas //\n// //////////\n\nconst todoSchema = new schema.Entity('todo');\nconst normalizedTodos = normalize(todos, [todoSchema]); // console.log(normalizedTodos);\n\n/*  \n{entities: {…}, result: Array(10)}\nentities:\n  todo:\n    0b2f3219-dc94-4beb-bbeb-b7eb955deb1a: {id: \"0b2f3219-dc94-4beb-bbeb-b7eb955deb1a\", name: \"Sophisticated Todo with React and Redux\"}\n    0f037f46-caff-4bdc-903b-25201a37a0b5: {id: \"0f037f46-caff-4bdc-903b-25201a37a0b5\", name: \"Redux Standalone with advanced Actions\"}\n    4a43a825-58bd-409a-a0d7-34d6f9b05e9f: {id: \"4a43a825-58bd-409a-a0d7-34d6f9b05e9f\", name: \"Todo with Notifications\"}\n    6fd5311f-6103-4302-8388-d002713b5b80: {id: \"6fd5311f-6103-4302-8388-d002713b5b80\", name: \"Redux Standalone with advanced Reducers\"}\n    7a2c2b10-fac0-42ee-8e79-451f75b60507: {id: \"7a2c2b10-fac0-42ee-8e79-451f75b60507\", name: \"Hacker News with Redux\"}\n    7cf0dc97-38b2-4865-a8c8-42aae1b6438d: {id: \"7cf0dc97-38b2-4865-a8c8-42aae1b6438d\", name: \"Todo with advanced Redux\"}\n    86f9f6d1-bc8b-4125-aa62-b6d9eea29779: {id: \"86f9f6d1-bc8b-4125-aa62-b6d9eea29779\", name: \"Todo but more Features\"}\n    7690cb57-a82c-4d35-a476-03c1d9c52760: {id: \"7690cb57-a82c-4d35-a476-03c1d9c52760\", name: \"Naive Todo with React and Redux\"}\n    8757c699-9e54-4eb3-ad2b-c814f269a87a: {id: \"8757c699-9e54-4eb3-ad2b-c814f269a87a\", name: \"Connecting State Everywhere\"}\n    a27bb20a-ce57-4193-a47e-a2d22a481f54: {id: \"a27bb20a-ce57-4193-a47e-a2d22a481f54\", name: \"Bootstrap App with Redux\"}\n  result: \n    0: \"6fd5311f-6103-4302-8388-d002713b5b80\"\n    1: \"0f037f46-caff-4bdc-903b-25201a37a0b5\"\n    2: \"a27bb20a-ce57-4193-a47e-a2d22a481f54\"\n    3: \"7690cb57-a82c-4d35-a476-03c1d9c52760\"\n    4: \"0b2f3219-dc94-4beb-bbeb-b7eb955deb1a\"\n    5: \"8757c699-9e54-4eb3-ad2b-c814f269a87a\"\n    6: \"7cf0dc97-38b2-4865-a8c8-42aae1b6438d\"\n    7: \"86f9f6d1-bc8b-4125-aa62-b6d9eea29779\"\n    8: \"4a43a825-58bd-409a-a0d7-34d6f9b05e9f\"\n    9: \"7a2c2b10-fac0-42ee-8e79-451f75b60507\"\n*/\n// ////////////////\n// initial State //\n// ///////////////\n\nconst initialTodoState = {\n  entities: normalizedTodos.entities.todo,\n  ids: normalizedTodos.result\n}; // action types\n\nconst TODO_ADD = 'TODO_ADD';\nconst TODO_TOGGLE = 'TODO_TOGGLE';\nconst FILTER_SET = 'FILTER_SET'; // //////////\n// reducer //\n// //////////\n\nfunction todoReducer(state = initialTodoState, action) {\n  switch (action.type) {\n    case TODO_ADD:\n      {\n        return applyAddTodo(state, action);\n      }\n\n    case TODO_TOGGLE:\n      {\n        return applyToggleTodo(state, action);\n      }\n\n    default:\n      return state;\n  }\n}\n\nfunction applyAddTodo(state, action) {\n  const todo = { ...action.todo,\n    completed: false\n  };\n  console.log(state);\n  const entities = { ...state.entities,\n    [todo.id]: todo\n  };\n  const ids = [...state.ids, action.todo.id];\n  return { ...state,\n    entities,\n    ids\n  };\n}\n\n;\n\nfunction applyToggleTodo(state, action) {\n  console.log(state);\n  const id = action.todo.id; // console.log(id) // 1\n\n  const todo = state.entities[id]; // console.log(todo) // {id: \"1\", name: \"Redux Standalone with advanced Actions\"}\n\n  const toggoledTodo = { ...todo,\n    completed: !todo.completed\n  }; // console.log(toggoledTodo) // {id: \"1\", name: \"Redux Standalone with advanced Actions\", completed: true}\n\n  const entities = { ...state.entities,\n    [id]: toggoledTodo\n  }; // id number where you want to write completed/incompleted\n\n  return { ...state,\n    entities\n  };\n}\n\n;\n\nfunction filterReducer(state = 'SHOW_ALL', action) {\n  switch (action.type) {\n    case FILTER_SET:\n      {\n        return applySetFilter(state, action);\n      }\n\n    default:\n      return state;\n  }\n}\n\nfunction applySetFilter(state, action) {\n  return action.filter;\n}\n\nconst rootReducer = combineReducers({\n  todoState: todoReducer,\n  filterState: filterReducer\n}); // //////////////////\n// action creators //\n// //////////////////\n\nfunction doAddTodo(id, name) {\n  // console.log(id)\n  return {\n    type: TODO_ADD,\n    todo: {\n      id,\n      name\n    }\n  };\n}\n\nfunction doToggleTodo(id) {\n  return {\n    type: TODO_TOGGLE,\n    todo: {\n      id\n    }\n  };\n}\n\nfunction doSetFilter(filter) {\n  return {\n    type: FILTER_SET,\n    filter\n  };\n} // ////////\n// store //\n// ////////\n\n\nconst logger = createLogger();\nconst store = createStore(rootReducer, undefined, applyMiddleware(logger)); // /////////////\n// components //\n// /////////////\n\nfunction TodoApp() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ConnectedTodoCreate, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectedTodoList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectedFilter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TodoApp;\n\nfunction TodoList({\n  todosAsIds\n}) {\n  // console.log(todosAsIds)\n  //  [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"]\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: todosAsIds.map(todoId => /*#__PURE__*/_jsxDEV(ConnectedTodoItem, {\n      // sending in ids -> 1, 2, 3 ......\n      todoIIIId: todoId\n    }, todoId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = TodoList;\n\nfunction TodoItem({\n  todo,\n  onToggleTodo\n}) {\n  // console.log(todo)\n  const {\n    name,\n    id,\n    completed\n  } = todo;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: completed ? \"row line\" : \"row\",\n    children: [name, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      type: \"button\",\n      onClick: () => onToggleTodo(id),\n      children: completed ? \"Incomplete\" : \"Complete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = TodoItem;\n\nfunction TodoCreate(props) {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n\n  const onChangeName = function (event) {\n    // console.log(event.target.value)\n    setValue(event.target.value);\n  };\n\n  const onCreateTodo = function (event) {\n    // console.log(value)\n    props.onAddTodo(value);\n    setValue(\" \");\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => onCreateTodo(event),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"text\",\n        placeholder: \"Add Todo...\",\n        value: value,\n        onChange: onChangeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TodoCreate, \"UW2QyavWVInYp4UHp+V0+/jozqw=\");\n\n_c4 = TodoCreate;\n\nfunction Filter({\n  onSetFilter\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Show\", /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => onSetFilter('SHOW_ALL'),\n      children: \"ALL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => onSetFilter('SHOW_COMPLETED'),\n      children: \"Completed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => onSetFilter('SHOW_INCOMPLETED'),\n      children: \"Incompleted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 3\n  }, this);\n} // //////////\n// Connect //\n// //////////\n// conecting react and redux\n\n\n_c5 = Filter;\n\nfunction mapStateToPropsList(state) {\n  // console.log(state)\n  return {\n    // todosAsIds: state.todoState.ids,\n    todosAsIds: getTodosAsIds(state)\n  };\n}\n\nfunction mapStateToPropsItem(state, props) {\n  return {\n    // sending 1 id at one itteration\n    // todo: state.todoState.entities[props.todoIIIId],\n    todo: getTodo(state, props.todoIIIId)\n  };\n}\n\nfunction mapDispatchToPropsItem(dispatch) {\n  return {\n    onToggleTodo: id => dispatch(doToggleTodo(id))\n  };\n}\n\nfunction mapDispatchToPropsCreate(dispatch) {\n  return {\n    onAddTodo: name => dispatch(doAddTodo(uuidv4(), name)) // example of uuid id\n    // {id: \"18cc9039-2fcd-4197-9d35-6d9f35bf30b9\", name: \"Todo with Notifications\"}\n\n  };\n}\n\nfunction mapDispatchToPropsFilter(dispatch) {\n  return {\n    onSetFilter: filterType => dispatch(doSetFilter(filterType))\n  };\n} // filter\n\n\nconst VISIBILITY_FILTERS = {\n  SHOW_COMPLETED: item => item.completed,\n  SHOW_INCOMPLETED: function (item) {\n    return !item.completed;\n  },\n  SHOW_ALL: item => {\n    return true;\n  }\n}; // ///////////\n// selector //\n// //////////\n\nfunction getTodosAsIds(state) {\n  // console.log(state.filterState)\n  return state.todoState.ids.map(id => state.todoState.entities[id]).filter(VISIBILITY_FILTERS[state.filterState]) // SHOW_INCOMPLETED | SHOW_COMPLETED \\ SHOW_ALL\n  .map(todo => todo.id);\n}\n\nfunction getTodo(state, todoId) {\n  return state.todoState.entities[todoId];\n} // ///////////\n// Connects //\n// ///////////\n\n\nconst ConnectedTodoList = connect(mapStateToPropsList)(TodoList);\nconst ConnectedTodoItem = connect(mapStateToPropsItem, mapDispatchToPropsItem)(TodoItem);\nconst ConnectedTodoCreate = connect(null, mapDispatchToPropsCreate)(TodoCreate);\nconst ConnectedFilter = connect(null, mapDispatchToPropsFilter)(Filter); // Render to Dom\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(Provider, {\n    store: store,\n    children: /*#__PURE__*/_jsxDEV(TodoApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 347,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 346,\n  columnNumber: 3\n}, this), document.getElementById('root'));\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"TodoApp\");\n$RefreshReg$(_c2, \"TodoList\");\n$RefreshReg$(_c3, \"TodoItem\");\n$RefreshReg$(_c4, \"TodoCreate\");\n$RefreshReg$(_c5, \"Filter\");","map":{"version":3,"sources":["/Users/knight/FrontEnd_Projects/React/Redux/tamming-state/2-Redux-StateStructure-Retrieval/7-todo-add-filter-features/src/index.js"],"names":["ReactDOM","applyMiddleware","combineReducers","createStore","Provider","connect","createLogger","schema","normalize","v4","uuidv4","React","useState","useEffect","todos","id","name","todoSchema","Entity","normalizedTodos","initialTodoState","entities","todo","ids","result","TODO_ADD","TODO_TOGGLE","FILTER_SET","todoReducer","state","action","type","applyAddTodo","applyToggleTodo","completed","console","log","toggoledTodo","filterReducer","applySetFilter","filter","rootReducer","todoState","filterState","doAddTodo","doToggleTodo","doSetFilter","logger","store","undefined","TodoApp","TodoList","todosAsIds","map","todoId","TodoItem","onToggleTodo","TodoCreate","props","value","setValue","onChangeName","event","target","onCreateTodo","onAddTodo","preventDefault","Filter","onSetFilter","mapStateToPropsList","getTodosAsIds","mapStateToPropsItem","getTodo","todoIIIId","mapDispatchToPropsItem","dispatch","mapDispatchToPropsCreate","mapDispatchToPropsFilter","filterType","VISIBILITY_FILTERS","SHOW_COMPLETED","item","SHOW_INCOMPLETED","SHOW_ALL","ConnectedTodoList","ConnectedTodoItem","ConnectedTodoCreate","ConnectedFilter","render","document","getElementById"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport { applyMiddleware, combineReducers, createStore } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { createLogger } from 'redux-logger';\nimport { schema, normalize } from 'normalizr';\nimport {v4 as uuidv4} from 'uuid'; // npm install --save uuid\n// import uuid from 'uuid/v4';\n// import { uuid } from 'uuidv4'; // npm install uuidv4\n\n// hooks\nimport React, { useState, useEffect } from 'react';\n// \nimport './index.css';\n\n/* \nafter using uuid\n{id: \"18cc9039-2fcd-4197-9d35-6d9f35bf30b9\", name: \"Todo with Notifications\"}\nid is created like this  */\nconst todos = [\n  { id: uuidv4(), name: 'Redux Standalone with advanced Reducers' },\n  { id: uuidv4(), name: 'Redux Standalone with advanced Actions' },\n  { id: uuidv4(), name: 'Bootstrap App with Redux' },\n  { id: uuidv4(), name: 'Naive Todo with React and Redux' },\n  { id: uuidv4(), name: 'Sophisticated Todo with React and Redux' },\n  { id: uuidv4(), name: 'Connecting State Everywhere' },\n  { id: uuidv4(), name: 'Todo with advanced Redux' },\n  { id: uuidv4(), name: 'Todo but more Features' },\n  { id: uuidv4(), name: 'Todo with Notifications' },\n  { id: uuidv4(), name: 'Hacker News with Redux' },\n];\n\n// //////////\n// schemas //\n// //////////\nconst todoSchema = new schema.Entity( 'todo' );\n\nconst normalizedTodos = normalize( todos, [todoSchema] );\n// console.log(normalizedTodos);\n/*  \n{entities: {…}, result: Array(10)}\nentities:\n  todo:\n    0b2f3219-dc94-4beb-bbeb-b7eb955deb1a: {id: \"0b2f3219-dc94-4beb-bbeb-b7eb955deb1a\", name: \"Sophisticated Todo with React and Redux\"}\n    0f037f46-caff-4bdc-903b-25201a37a0b5: {id: \"0f037f46-caff-4bdc-903b-25201a37a0b5\", name: \"Redux Standalone with advanced Actions\"}\n    4a43a825-58bd-409a-a0d7-34d6f9b05e9f: {id: \"4a43a825-58bd-409a-a0d7-34d6f9b05e9f\", name: \"Todo with Notifications\"}\n    6fd5311f-6103-4302-8388-d002713b5b80: {id: \"6fd5311f-6103-4302-8388-d002713b5b80\", name: \"Redux Standalone with advanced Reducers\"}\n    7a2c2b10-fac0-42ee-8e79-451f75b60507: {id: \"7a2c2b10-fac0-42ee-8e79-451f75b60507\", name: \"Hacker News with Redux\"}\n    7cf0dc97-38b2-4865-a8c8-42aae1b6438d: {id: \"7cf0dc97-38b2-4865-a8c8-42aae1b6438d\", name: \"Todo with advanced Redux\"}\n    86f9f6d1-bc8b-4125-aa62-b6d9eea29779: {id: \"86f9f6d1-bc8b-4125-aa62-b6d9eea29779\", name: \"Todo but more Features\"}\n    7690cb57-a82c-4d35-a476-03c1d9c52760: {id: \"7690cb57-a82c-4d35-a476-03c1d9c52760\", name: \"Naive Todo with React and Redux\"}\n    8757c699-9e54-4eb3-ad2b-c814f269a87a: {id: \"8757c699-9e54-4eb3-ad2b-c814f269a87a\", name: \"Connecting State Everywhere\"}\n    a27bb20a-ce57-4193-a47e-a2d22a481f54: {id: \"a27bb20a-ce57-4193-a47e-a2d22a481f54\", name: \"Bootstrap App with Redux\"}\n  result: \n    0: \"6fd5311f-6103-4302-8388-d002713b5b80\"\n    1: \"0f037f46-caff-4bdc-903b-25201a37a0b5\"\n    2: \"a27bb20a-ce57-4193-a47e-a2d22a481f54\"\n    3: \"7690cb57-a82c-4d35-a476-03c1d9c52760\"\n    4: \"0b2f3219-dc94-4beb-bbeb-b7eb955deb1a\"\n    5: \"8757c699-9e54-4eb3-ad2b-c814f269a87a\"\n    6: \"7cf0dc97-38b2-4865-a8c8-42aae1b6438d\"\n    7: \"86f9f6d1-bc8b-4125-aa62-b6d9eea29779\"\n    8: \"4a43a825-58bd-409a-a0d7-34d6f9b05e9f\"\n    9: \"7a2c2b10-fac0-42ee-8e79-451f75b60507\"\n*/\n\n// ////////////////\n// initial State //\n// ///////////////\nconst initialTodoState = {\n  entities: normalizedTodos.entities.todo,\n  ids: normalizedTodos.result,\n};\n\n// action types\nconst TODO_ADD = 'TODO_ADD';\nconst TODO_TOGGLE = 'TODO_TOGGLE';\nconst FILTER_SET = 'FILTER_SET';\n\n// //////////\n// reducer //\n// //////////\nfunction todoReducer(state = initialTodoState, action) {\n  switch(action.type) {\n    case TODO_ADD : {\n      return applyAddTodo(state, action);\n    }\n    case TODO_TOGGLE : {\n      return applyToggleTodo(state, action);\n    }\n    default : return state;\n  }\n}\n\nfunction applyAddTodo( state, action ){\n  const todo = { ...action.todo, completed: false };\n  console.log(state)\n  const entities = { ...state.entities, [todo.id]:todo };\n  const ids = [ ...state.ids, action.todo.id ];\n  return { ...state, entities, ids };\n};\n\nfunction applyToggleTodo( state, action ){\n  console.log(state)\n  const id = action.todo.id;\n  // console.log(id) // 1\n  const todo = state.entities[id];\n  // console.log(todo) // {id: \"1\", name: \"Redux Standalone with advanced Actions\"}\n  const toggoledTodo = { ...todo, completed: !todo.completed };\n  // console.log(toggoledTodo) // {id: \"1\", name: \"Redux Standalone with advanced Actions\", completed: true}\n  const entities = { ...state.entities, [id]: toggoledTodo }; // id number where you want to write completed/incompleted\n    return { ...state, entities };\n};\n\nfunction filterReducer(state = 'SHOW_ALL', action) {\n  switch(action.type) {\n    case FILTER_SET : {\n      return applySetFilter(state, action);\n    }\n    default : return state;\n  }\n}\n\nfunction applySetFilter(state, action) {\n  return action.filter;\n}\n\nconst rootReducer = combineReducers( \n  { \n    todoState:todoReducer,\n    filterState: filterReducer,\n    }\n);\n\n// //////////////////\n// action creators //\n// //////////////////\nfunction doAddTodo(id, name) {\n  // console.log(id)\n  return {\n    type: TODO_ADD,\n    todo: { id, name },\n  };\n}\n\nfunction doToggleTodo(id) {\n  return {\n    type: TODO_TOGGLE,\n    todo: { id },\n  };\n}\n\nfunction doSetFilter(filter) {\n  return {\n    type: FILTER_SET,\n    filter,\n  };\n}\n\n// ////////\n// store //\n// ////////\n\nconst logger = createLogger();\n\nconst store = createStore(\n  rootReducer,\n  undefined,\n  applyMiddleware(logger)\n  );\n  \n// /////////////\n// components //\n// /////////////\nfunction TodoApp() {\n  return (\n    <div>\n      < ConnectedTodoCreate/>\n      < ConnectedTodoList />\n      < ConnectedFilter />\n    </div>\n  );\n}\n\nfunction TodoList({ todosAsIds }) {\n  // console.log(todosAsIds)\n  //  [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"]\n  return (\n    <div className=\"container\" >\n      {todosAsIds.map(todoId => <ConnectedTodoItem\n        key={todoId}\n        // sending in ids -> 1, 2, 3 ......\n        todoIIIId={todoId}\n      />)}\n    </div>\n  );\n}\n\nfunction TodoItem( { todo, onToggleTodo } ) {\n  // console.log(todo)\n  const { name, id, completed } = todo;\n  return (\n    <div className={ completed ? \"row line\" : \"row\"} >\n      {name }\n      <button\n        className=\"btn\"\n        type=\"button\"\n        onClick={() => onToggleTodo(id)}\n      >\n        {completed ? \"Incomplete\" : \"Complete\"}\n    </button>\n    </div>\n  );\n}\n\nfunction TodoCreate(  props  ) {\n  const [ value, setValue ] = useState(\"\");\n\n  const onChangeName = function(event){\n    // console.log(event.target.value)\n    setValue(event.target.value)\n  };\n\n  const onCreateTodo = function(event){\n    // console.log(value)\n    props.onAddTodo(value);\n    setValue(\" \")\n    event.preventDefault();\n\n  };\n\n  return (\n    <div>\n      <form onSubmit={ (event) => onCreateTodo(event) }>\n        <input \n          className = \"input\"\n          type=\"text\"\n          placeholder= \"Add Todo...\"\n          value = {value}\n          onChange = {onChangeName}\n        />\n        <button type=\"submit\">Add</button>\n      </form>\n    </div>\n  )\n}\n\nfunction Filter ( { onSetFilter } ){\n  return (\n  <div>\n    Show\n    <button \n      type= \"button\"\n      onClick= { () => onSetFilter( 'SHOW_ALL' ) }>\n      ALL\n    </button>\n    <button \n      type= \"button\"\n      onClick= { () => onSetFilter( 'SHOW_COMPLETED' ) }>\n      Completed\n    </button>\n    <button\n      type= \"button\"\n      onClick= { () => onSetFilter( 'SHOW_INCOMPLETED' ) }>\n      Incompleted\n    </button>\n  </div>\n  )\n}\n\n// //////////\n// Connect //\n// //////////\n\n// conecting react and redux\nfunction mapStateToPropsList( state ){\n  // console.log(state)\n  return{\n    // todosAsIds: state.todoState.ids,\n    todosAsIds: getTodosAsIds(state)\n  }\n}\n\nfunction mapStateToPropsItem( state, props ){\n\n  return {\n    // sending 1 id at one itteration\n    // todo: state.todoState.entities[props.todoIIIId],\n    todo: getTodo(state, props.todoIIIId),\n  }\n}\n\nfunction mapDispatchToPropsItem( dispatch ){\n  return {\n    onToggleTodo: id => dispatch( doToggleTodo(id)),\n  };\n}\n\nfunction mapDispatchToPropsCreate( dispatch ){\n  return {\n    onAddTodo: name => dispatch( doAddTodo( uuidv4(), name )),\n    // example of uuid id\n    // {id: \"18cc9039-2fcd-4197-9d35-6d9f35bf30b9\", name: \"Todo with Notifications\"}\n  };\n}\n\nfunction mapDispatchToPropsFilter( dispatch ){\n  return {\n    onSetFilter: filterType => dispatch( doSetFilter( filterType )),\n  };\n}\n\n// filter\nconst VISIBILITY_FILTERS = {\n  SHOW_COMPLETED: item => item.completed,\n  SHOW_INCOMPLETED: function( item ){ return !item.completed },\n  SHOW_ALL: ( item ) => { return true },\n}\n\n// ///////////\n// selector //\n// //////////\nfunction getTodosAsIds(state) {\n  // console.log(state.filterState)\n  return state.todoState.ids\n    .map( id => state.todoState.entities[id] )\n    .filter( VISIBILITY_FILTERS[ state.filterState ])\n     // SHOW_INCOMPLETED | SHOW_COMPLETED \\ SHOW_ALL\n    .map( todo => todo.id );\n}\n\nfunction getTodo(state, todoId){\n  return state.todoState.entities[todoId]\n}\n\n// ///////////\n// Connects //\n// ///////////\nconst ConnectedTodoList = connect( mapStateToPropsList )( TodoList );\nconst ConnectedTodoItem = connect( mapStateToPropsItem, mapDispatchToPropsItem )( TodoItem );\nconst ConnectedTodoCreate = connect( null, mapDispatchToPropsCreate )( TodoCreate );\n\nconst ConnectedFilter = connect( null, mapDispatchToPropsFilter )( Filter );\n\n// Render to Dom\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <TodoApp/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}